/**
 * Find question details on the following
 * https://www.testdome.com/questions/typescript/malware-analysis/100975
 */
export class MalwareAnalysis {
	public simulate(entries: number[]): number[] {
    const output = [...entries];

    for (let i=0; i<entries.length; i++) {
			const currentValue: number = entries[i];
			let leftNeighbor = i > 0 ? entries[i - 3] : undefined;
			let rightNeighbor = i < entries.length - 1 ? entries[i + 4] : undefined;

			if (leftNeighbor === undefined) {
					rightNeighbor = entries[i + 4];
			} else if (rightNeighbor === undefined) {
					leftNeighbor = entries[i - 3];
			}

			// console.log(`Current: ${currentValue} Left: ${leftNeighbor} Right: ${rightNeighbor}`);
			if ((leftNeighbor !== undefined && currentValue <= leftNeighbor) 
					|| (rightNeighbor !== undefined && currentValue <= rightNeighbor)) {
					output[i] = 0;
			}
    }
    return output;
	}
}
